<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="David Xiao">

  
  
  
    
  
  <meta name="description" content="If you are looking for integrating a commenting system on your site but also like to have control over its infrastructure and data, this is how I did it.">

  
  <link rel="alternate" hreflang="en-us" href="https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/">

  


  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      
        
      

      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:400,400i,300,300i%7CMerriweather+Sans:400,400i,300,300i%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="DAVID&#39;S GARAGE">
  <meta property="og:url" content="https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/">
  <meta property="og:title" content="Integrating a Self-Hosting Commenting System to Your Site | DAVID&#39;S GARAGE">
  <meta property="og:description" content="If you are looking for integrating a commenting system on your site but also like to have control over its infrastructure and data, this is how I did it."><meta property="og:image" content="https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/featured.jpg">
  <meta property="twitter:image" content="https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/featured.jpg"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-06-09T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2020-06-09T00:00:00&#43;00:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/"
  },
  "headline": "Integrating a Self-Hosting Commenting System to Your Site",
  
  "image": [
    "https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/featured.jpg"
  ],
  
  "datePublished": "2020-06-09T00:00:00Z",
  "dateModified": "2020-06-09T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "David Xiao"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "DAVID'S GARAGE",
    "logo": {
      "@type": "ImageObject",
      "url": "https://davidxiao.me/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "If you are looking for integrating a commenting system on your site but also like to have control over its infrastructure and data, this is how I did it."
}
</script>

  

  


  


  





  <title>Integrating a Self-Hosting Commenting System to Your Site | DAVID&#39;S GARAGE</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">DAVID&#39;S GARAGE</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">DAVID&#39;S GARAGE</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/post/"><span>All Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/author/david-xiao/"><span>About Me</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link js-theme-selector" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-palette" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  <article class="article">

  




















  
  
    
  


<div class="article-container pt-3">
  <h1>Integrating a Self-Hosting Commenting System to Your Site</h1>

  
  <p class="page-subtitle">using Remark42, Hugo, Docker and Cloudflare</p>
  

  


<div class="article-metadata">

  
  
  
  
  <div>
    

  
  <span><a href="/author/david-xiao/">David Xiao</a></span>
  </div>
  
  

  
  <span class="article-date">
    
    
      
    
    Jun 9, 2020
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    5 min read
  </span>
  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/site-building/">Site-Building</a>, <a href="/category/homelab/">Homelab</a>, <a href="/category/cloud/">Cloud</a></span>
  

</div>

  














</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 476px;">
  <div style="position: relative">
    <img src="/post/adding-your-own-commenting-system-to-a-static-site/featured_hue701476aa072493c5b52c773ccf9391f_439632_720x0_resize_q90_lanczos.jpg" alt="" class="featured-image">
    <span class="article-header-caption">Image credit: <a href="https://unsplash.com/photos/uq5RMAZdZG4"><strong>Unsplash</strong></a></span>
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      <p><em>TLDR üëâ It talks about hosting remark42 commenting system as Docker container; Leveraging Cloudflare to protect the remark42 endpoint; Integrating remark42 to a Hugo static site which is built on Hugo and using academic theme.</em></p>
<p>Before getting started, have a look at any post on my blog at 
<a href="https://davidxiao.me/" target="_blank" rel="noopener">davidxiao.me</a> and see the way commenting works. If you like what you saw, please read on.</p>
<h2 id="what-will-be-covered-in-this-post">What Will be Covered in This Post</h2>
<ul>
<li>
<p>Deploy remark42 container on Docker</p>
</li>
<li>
<p>Protect your remark42 endpoint with Cloudflare CDN</p>
</li>
<li>
<p>Integrate remark42 to your Hugo site</p>
</li>
</ul>
<h2 id="step-1-hosting-remark42">Step 1. Hosting Remark42</h2>
<p>
<a href="https://remark42.com/" target="_blank" rel="noopener">Remark42</a> is an open source commenting system that can be deployed as container. It&rsquo;s self-contained with little external dependencies. You can find deployement guide on its Remark42&rsquo;s git repo.</p>
<p>Feel free to do container your way but if you are interested in what tool I use for docker management, it&rsquo;s 
<a href="https://github.com/portainer/portainer" target="_blank" rel="noopener">Portainer</a>.</p>
<p>I have the following parameters on my remark42 container:</p>
<pre><code>REMARK_URL              make sure it has the full path if you are using reverse proxy and rewrites, e.g. https://api.davidxiao.me/remark42
SITE	                site id. For example: davidxiao
SECRET	                required. can be a long and hard-to-guess string
DEBUG	                true
AUTH_GOOGLE_CID         your own value
AUTH_GOOGLE_CSEC        same
AUTH_FACEBOOK_CID       same
AUTH_FACEBOOK_CSEC      same
AUTH_TWITTER_CID        same
AUTH_TWITTER_CSEC       same
AUTH_GITHUB_CID         same
AUTH_GITHUB_CSEC        same
ADMIN_SHARED_EMAIL      mail address that will receive notifications such as new comments
NOTIFY_EMAIL_ADMIN	true
NOTIFY_TYPE	        email
NOTIFY_EMAIL_FROM	mail address that is in the same domain see Mailgun settings. For example, mine is remark42@davidxiao.me
AUTH_EMAIL_FROM	        same as above
ADMIN_SHARED_ID	        OAuth authenticated user id that has admin access. see https://github.com/umputun/remark42#admin-users
SMTP_HOST	        smtp.mailgun.org
SMTP_PORT	        465
SMTP_TLS	        true
SMTP_USERNAME	        SMTP credential from Mailgun
SMTP_PASSWORD	        
</code></pre><p>NOTES: for more detail on Remark42 email configuration, check this 
<a href="https://github.com/umputun/remark42/blob/master/docs/email.md" target="_blank" rel="noopener">page</a></p>
<h3 id="app-registration-on-the-oauth-providers">App Registration on the OAuth Providers</h3>
<p>Before you can complete app registration on the 
<a href="https://en.wikipedia.org/wiki/List_of_OAuth_providers" target="_blank" rel="noopener">OAuth providers</a> supported by Remark42 (Google, facebook, twitter, github), you would need to determine the domain name of your Remark42 api endpoint.</p>





  
  











<figure id="figure-my-app-registration-page-on-facebook-as-an-example">


  <a data-fancybox="" href="/post/adding-your-own-commenting-system-to-a-static-site/facebook_hu9747433adb773f60d55694d972e5edfc_320108_2000x2000_fit_q90_lanczos.jpg" data-caption="My app registration page on facebook as an example">


  <img data-src="/post/adding-your-own-commenting-system-to-a-static-site/facebook_hu9747433adb773f60d55694d972e5edfc_320108_2000x2000_fit_q90_lanczos.jpg" class="lazyload" alt="" width="2682" height="1342">
</a>


  
  
  <figcaption>
    My app registration page on facebook as an example
  </figcaption>


</figure>

<p>Using a dynamic DNS (DDNS) would allow you to update IP address when your endpoint IP changes. If you are hosting Remark42 container on cloud such as AWS EC2 or on your homelab, DDNS can be helpful.</p>
<p>Selecting a proper one as your DDNS provider is important to your solution. There are a few reasons.</p>
<p>Each OAuth provider has its own rules over what kind of OAuth redirect URIs is allowed, some just don&rsquo;t allow certain DDNS domains. For instance, facebook does not allow any <code>duckdns.org</code> domain as part of redirect URIs at time of writing.</p>
<p>Second, a typical DDNS provider would resolve your domain to your public IP. It&rsquo;s what DDNS does. But for our purpose of hosting web apps, it&rsquo;s not a great idea to expose your public IP as it could be exploited during an attack. CDN is a better approach but some DDNS providers may not offer that.</p>
<p>Service availability is another concern. Without any service level agreement, your API will become inaccessible when the DDNS it relies on stops working.</p>
<p>Last, the security posture of some DDNS providers can be doubtful. When the service platform itself gets compromised, bad things could happen really quickly before you are made aware of as end user.</p>
<p>üëâ See my solution in twofold:</p>
<ul>
<li>
<p>Use a large-scale commercial DNS provider that supports DNS management over API, or even better - when it offers CDN protection over your origin endpoint.</p>
</li>
<li>
<p>Use a reverse proxy such as Nginx to rewrite URLs so that multiple apps can be &ldquo;tunneled through&rdquo; a single domain name when needed. See 
<a href="https://davidxiao.me/post/hosting-multiple-containers-with-nginx-rewrite-rules/">here</a> for detail.</p>
</li>
</ul>
<p>With respect to DDNS provider, I landed on Cloudflare after having reviewed a few choices including Cloudflare, Duckdns, No-IP. See my Cloudflare DDNS setup 
<a href="https://davidxiao.me/post/dynamic-dns-on-cloudflare/">here</a>.</p>
<h2 id="step-2-protecttunnel-your-endpoint">Step 2. Protect(tunnel) your Endpoint</h2>
<p>I assume you are using Cloudflare as DNS provider as it&rsquo;s a prerequisite if you need to enable Cloudflare CDN.</p>
<p>To enable CDN, first go to Cloudflare portal and enable CDN for your remark42 subdomain. In my case that&rsquo;s <code>api.davidxiao.me</code>.</p>





  
  











<figure id="figure-enabling-proxy-by-clicking-on-the-proxy-status-icon">


  <a data-fancybox="" href="/post/adding-your-own-commenting-system-to-a-static-site/cdn_hu16e75ec25f0125b652450b7f91b4df42_98125_2000x2000_fit_lanczos_2.png" data-caption="Enabling Proxy by clicking on the Proxy status icon">


  <img data-src="/post/adding-your-own-commenting-system-to-a-static-site/cdn_hu16e75ec25f0125b652450b7f91b4df42_98125_2000x2000_fit_lanczos_2.png" class="lazyload" alt="" width="2096" height="758">
</a>


  
  
  <figcaption>
    Enabling Proxy by clicking on the Proxy status icon
  </figcaption>


</figure>

<p>Second, modify caching level to &ldquo;No query string&rdquo;. No Query String means it only delivers files from cache when there is no query string. It&rsquo;s the caching behavior we expect for an API endpoint, isn&rsquo;t it?</p>





  
  











<figure id="figure-enabling-proxied-by-clicking-on-proxy-status-icon">


  <a data-fancybox="" href="/post/adding-your-own-commenting-system-to-a-static-site/caching_hu1b96b407d2d894423ea0f28de5f404e7_230832_2000x2000_fit_lanczos_2.png" data-caption="Enabling Proxied by clicking on Proxy status icon">


  <img data-src="/post/adding-your-own-commenting-system-to-a-static-site/caching_hu1b96b407d2d894423ea0f28de5f404e7_230832_2000x2000_fit_lanczos_2.png" class="lazyload" alt="" width="2126" height="1352">
</a>


  
  
  <figcaption>
    Enabling Proxied by clicking on Proxy status icon
  </figcaption>


</figure>

<h2 id="step-21-enable-end-to-end-https-with-cloudflare">Step 2.1 Enable End-to-end HTTPS with Cloudflare</h2>
<p>There are several SSL options provided by Cloudflare. Check 
<a href="https://support.cloudflare.com/hc/en-us/articles/200170416-End-to-end-HTTPS-with-Cloudflare-Part-3-SSL-options#h_845b3d60-9a03-4db0-8de6-20edc5b11057" target="_blank" rel="noopener">this</a> out to understand the difference.</p>
<p>Based on my own needs, I&rsquo;ve set up a &ldquo;Full&rdquo; mode in Cloudflare, which ensures a secure connection between both the web browser and Cloudflare and between Cloudflare and my endpoint. This option uses a self-signed certificate at the my endpoint web server.</p>





  
  











<figure id="figure-enabling-ssl-in-full-mode">


  <a data-fancybox="" href="/post/adding-your-own-commenting-system-to-a-static-site/ssl1_hu718aada9808213d1863d35c04aab4c8f_284146_2000x2000_fit_lanczos_2.png" data-caption="Enabling SSL in Full mode">


  <img data-src="/post/adding-your-own-commenting-system-to-a-static-site/ssl1_hu718aada9808213d1863d35c04aab4c8f_284146_2000x2000_fit_lanczos_2.png" class="lazyload" alt="" width="2178" height="1348">
</a>


  
  
  <figcaption>
    Enabling SSL in Full mode
  </figcaption>


</figure>






  
  











<figure id="figure-generate-and-download-cloudflares-self-signed-certificates">


  <a data-fancybox="" href="/post/adding-your-own-commenting-system-to-a-static-site/ssl2_hu40bb48d6d163b284766543eb6db65c71_208391_2000x2000_fit_lanczos_2.png" data-caption="Generate and download Cloudflare&rsquo;s self-signed certificates">


  <img data-src="/post/adding-your-own-commenting-system-to-a-static-site/ssl2_hu40bb48d6d163b284766543eb6db65c71_208391_2000x2000_fit_lanczos_2.png" class="lazyload" alt="" width="2140" height="1128">
</a>


  
  
  <figcaption>
    Generate and download Cloudflare&rsquo;s self-signed certificates
  </figcaption>


</figure>

<p>Save the origin certificat as <code>origin-cert.pem</code> and the private key as <code>priv.key</code>, place both files on your host and make sure they both have ownership of <code>root</code> and have <code>0600</code> permissions.</p>
<p>Then you just need to add the file locations in your nginx configuration file. See below my configruation files for example:</p>
<script type="application/javascript" src="https://gist.github.com/davxiao/c4f16ebbcdb2ec0701bcaad24640d12c.js"></script>

<h2 id="step-3-integrate-remark42-to-your-hugo-site">Step 3. Integrate Remark42 to Your Hugo Site</h2>
<p>Override the <code>comments.html</code> template by:</p>
<pre><code>$ cp your-project-root/themes/academic/layouts/partials/comments.html your-project-root/layouts/partials/comments.html
</code></pre>
<p>and modify the new one as you see fit.</p>
<p>The following is my modified version of <code>comments.html</code>.</p>
<script type="application/javascript" src="https://gist.github.com/davxiao/2c4373dbbf55823ccb3460cd79b37ee5.js"></script>

<h2 id="conclusion">Conclusion</h2>
<p>Congrats! You&rsquo;ve got the remark42 commenting system integrated to your Hugo site. Comment, Suggestion, and Feedback are all welcome!</p>

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/cloudflare/">cloudflare</a>
  
  <a class="badge badge-light" href="/tag/self-hosting/">self-hosting</a>
  
  <a class="badge badge-light" href="/tag/docker/">docker</a>
  
  <a class="badge badge-light" href="/tag/hugo/">hugo</a>
  
  <a class="badge badge-light" href="/tag/hugo-academic/">hugo-academic</a>
  
  <a class="badge badge-light" href="/tag/remark42/">remark42</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/&amp;text=Integrating%20a%20Self-Hosting%20Commenting%20System%20to%20Your%20Site" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/&amp;t=Integrating%20a%20Self-Hosting%20Commenting%20System%20to%20Your%20Site" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Integrating%20a%20Self-Hosting%20Commenting%20System%20to%20Your%20Site&amp;body=https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/&amp;title=Integrating%20a%20Self-Hosting%20Commenting%20System%20to%20Your%20Site" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Integrating%20a%20Self-Hosting%20Commenting%20System%20to%20Your%20Site%20https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/&amp;title=Integrating%20a%20Self-Hosting%20Commenting%20System%20to%20Your%20Site" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>








<section id="comments">
  <hr>
  <h2>Comments</h2><div id="remark42"></div>
  <script>
    var remark_config = {
      host: "https://api.davidxiao.me/remark42", 
      site_id: 'davidxiao',
      components: ['embed'], 
                            
                            
                            
                            
                            
      url: "https://davidxiao.me/post/adding-your-own-commenting-system-to-a-static-site/", 
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
      max_shown_comments: 10, 
      theme: 'dark', 
      locale: 'en' 
    };

    (function(c) {
      for(var i = 0; i < c.length; i++){
        var d = document, s = d.createElement('script');
        s.src = remark_config.host + '/web/' +c[i] +'.js';
        s.defer = true;
        (d.head || d.body).appendChild(s);
      }
    })(remark_config.components || ['embed']);
  </script>
</section>






  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/post/building-a-website-in-2020/">Building a website in 2020</a></li>
      
    </ul>
  </div>
  



  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = false;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.37431be2d92d7fb0160054761ab79602.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">

  
  <p class="powered-by">
    
      <a href="/privacy/">Privacy Policy</a>
    
  </p>
  

  <p class="powered-by">
    <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank">LICENSE: CC-BY-SA <br> <i class="fab fa-creative-commons fa-2x"></i><i class="fab fa-creative-commons-by fa-2x"></i><i class="fab fa-creative-commons-sa fa-2x"></i> </a><br>
  </p>
  
  <p class="powered-by">
    ¬©2020 David Xiao. 

    Made with ‚ù§Ô∏è , the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>, <a href="https://remark42.com/" target="_blank" rel="noopener">Remark42</a>, <a href="https://cloudflare.com/" target="_blank" rel="noopener">Cloudflare</a> and <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
